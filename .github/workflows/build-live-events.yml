name: Build Live Events M3U
on:
workflow_dispatch:
schedule:
- cron: "*/30 * * * *"
permissions:
contents: write
jobs:
build:
runs-on: ubuntu-latest
steps:
- uses: actions/checkout@v4
- uses: actions/setup-python@v5
with:
python-version: "3.11"
- run: pip install -r requirements.txt
- run: python generate_live_events.py
- run: |
git config user.name "live-events-bot"
git config user.email "live-events-bot@users.noreply.github.com"
git add docs/live-events.m3u
git diff --cached --quiet || git commit -m "Update live events playlist" && git push
